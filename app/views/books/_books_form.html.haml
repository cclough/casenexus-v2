= form_tag books_path, method: 'get', id: "books_index_books_form" do
  .row
    .span
      = text_field_tag :search, params[:search], placeholder: "Search the Library", id: "books_index_books_form_searchfield", class: 'search-query span23'
    
    .pull-right
      .span#books_index_books_form_label
        Filter
        %i.icon-caret-right.offset1
      / Type Buttons
      .span.offset1
        #books_index_books_form_buttons_type
          .btn-group
            = filterable_books('all', 'All')
            = filterable_books('guide', 'Guides')
            = filterable_books('link', 'Web')
            = filterable_books('case', 'Cases')

        #books_index_books_form_radios_type
          = radio_button_tag :books_list_type, 'guides'
          = radio_button_tag :books_list_type, 'web'
          = radio_button_tag :books_list_type, 'cases', checked: true

      .span.offset2#books_index_books_form_label
        Sort by
        %i.icon-caret-right.offset1

      .span.offset1#books_index_books_form_sort.application_menu_sort
        .btn-group
          %a.btn.btn-inverse.dropdown-toggle{"data-toggle" => "dropdown"}
            - if params[:sort] == "average_rating"
              Rating
            - elsif params[:sort] == "title"
              Title
            - elsif params[:sort] == "author"
              Source
            - elsif params[:sort] == "difficulty"
              Difficulty
            - elsif params[:sort] == "chart_num"
              Chart Number
            - else
              Title
            %span.caret
          %ul.dropdown-menu
            %li
              = sortable "average_rating", "By Rating"
            %li
              = sortable "title", "By Title"
            %li
              = sortable "author", "By Author"
            %li
              = sortable "difficulty", "By Difficulty"
            %li
              = sortable "chart_num", "By Chart Number"