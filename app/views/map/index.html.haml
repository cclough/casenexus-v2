- provide(:title, 'Map')

- content_for :javascript_includes do

  / Params link to user marker
  - if params[:user_id]
    :javascript
      // although not neccessary to pan, looks better due to requirement for set timeout on indowwindow load

      var map_index_map_lat_start = "#{User.find(params[:user_id]).lat}";
      var map_index_map_lng_start = "#{User.find(params[:user_id]).lng}";

      var map_index_map_marker_id_start = "#{params[:user_id]}";


      
  - else
    :javascript
      // although not neccessary to pan, looks better due to requirement for set timeout on indowwindow load

      var map_index_map_lat_start = "#{current_user.lat}";
      var map_index_map_lng_start = "#{current_user.lng}";

      var map_index_map_marker_id_start = "#{current_user.id}";


  / - if current_user.help_2_checked
  /   :javascript
  /     $(document).ready(function() {
  /       google.maps.event.addListenerOnce(map, 'idle', function(){
  /         window.application_show_help(2);
  /       });
  /     });



#map_index_container

  #map_index_container_users
    .row
      = render '/members/users_form'
      #map_index_users
      / content is rendered by members#index.js.erb


  #map_index_container_map.map



  #map_index_map_subnav.map_index_subnav
    #map_index_map_subnav_mouseover
      / template rendered by js

  #map_index_map_footer.map_index_subnav
    = render 'footer_map'



  / #map_index_container_user
  / content is rendered by on marker click (in users.js)

  

