!function(){window.cases_new_prime=function(){var a;return $("#application_error_explanation").click(function(){return $(this).fadeOut("fast")}),$("#cases_new_datepicker").datetimepicker({format:"dd MM yyyy - hh:ii",showMeridian:!0,pickerPosition:"bottom-left",minuteStep:15}),$('[name="case[businessanalytics_comment]"]').wysihtml5({emphasis:!1,"font-styles":!1,link:!1,image:!1}),$('[name="case[structure_comment]"]').wysihtml5({emphasis:!1,"font-styles":!1,link:!1,image:!1}),$('[name="case[interpersonal_comment]"]').wysihtml5({emphasis:!1,"font-styles":!1,link:!1,image:!1}),$(".cases_new_scoreselector_button").click(function(){var e,s;return s=$(this).data("score"),e=$(this).data("criteria"),$("#cases_new_score_input_"+e).val(s),a($(this).attr("data-category")),$("#cases_new_scoreselector_"+e+" .cases_new_scoreselector_button").removeClass("active"),$(this).addClass("active")}),$(".application_countchar").keyup(function(){return window.application_countChar(this)}),a=function(a){var e,s,r,t,l;return"businessanalytics"===a?(s=$("#cases_new_score_input_quantitativebasics").val()?parseInt($("#cases_new_score_input_quantitativebasics").val()):0,r=$("#cases_new_score_input_problemsolving").val()?parseInt($("#cases_new_score_input_problemsolving").val()):0,t=$("#cases_new_score_input_prioritisation").val()?parseInt($("#cases_new_score_input_prioritisation").val()):0,l=$("#cases_new_score_input_sanitychecking").val()?parseInt($("#cases_new_score_input_sanitychecking").val()):0,e=(s+r+t+l)/4,$("#cases_new_block_groupscore_businessanalytics .cases_new_block_groupscore_number").html(e+"/5")):"structure"===a?(s=$("#cases_new_score_input_approachupfront").val()?parseInt($("#cases_new_score_input_approachupfront").val()):0,r=$("#cases_new_score_input_stickingtostructure").val()?parseInt($("#cases_new_score_input_stickingtostructure").val()):0,t=$("#cases_new_score_input_announceschangedstructure").val()?parseInt($("#cases_new_score_input_announceschangedstructure").val()):0,l=$("#cases_new_score_input_pushingtoconclusion").val()?parseInt($("#cases_new_score_input_pushingtoconclusion").val()):0,e=(s+r+t+l)/4,$("#cases_new_block_groupscore_structure  .cases_new_block_groupscore_number").html(e+"/5")):"interpersonal"===a?(s=$("#cases_new_score_input_rapport").val()?parseInt($("#cases_new_score_input_rapport").val()):0,r=$("#cases_new_score_input_articulation").val()?parseInt($("#cases_new_score_input_articulation").val()):0,t=$("#cases_new_score_input_concision").val()?parseInt($("#cases_new_score_input_concision").val()):0,l=$("#cases_new_score_input_askingforinformation").val()?parseInt($("#cases_new_score_input_askingforinformation").val()):0,e=(s+r+t+l)/4,$("#cases_new_block_groupscore_interpersonal  .cases_new_block_groupscore_number").html(e+"/5")):void 0}},window.cases_show_category_chart_bar_draw=function(a){var e,s,r,t,l;return r=void 0,r=new AmCharts.AmSerialChart,"businessanalytics"===a?r.dataProvider=cases_show_businessanalytics_chart_bar_data:"interpersonal"===a?r.dataProvider=cases_show_interpersonal_chart_bar_data:"structure"===a&&(r.dataProvider=cases_show_structure_chart_bar_data),r.autoMarginOffset=0,r.marginRight=0,r.categoryField="criteria",r.rotate=!0,r.depth3D=20,r.angle=30,s=r.categoryAxis,s.gridPosition="start",s.axisColor="#DADADA",s.fillAlpha=0,s.gridAlpha=0,s.fillColor="#FAFAFA",s.labelsEnabled=!1,l=new AmCharts.ValueAxis,l.gridAlpha=0,l.dashLength=1,l.integersOnly=!0,l.labelsEnabled=!1,l.maximum=5,r.addValueAxis(l),t=new AmCharts.AmGraph,t.title="Score",t.valueField="score",t.type="column",t.labelPosition="bottom",t.fontSize=10,t.labelText="[[category]]",t.balloonText="[[category]]: [[value]]",t.lineAlpha=0,e=r.balloon,e.adjustBorderColor=!0,e.cornerRadius=5,e.showBullet=!1,e.fillColor="#000000",e.fillAlpha=.7,e.color="#FFFFFF","businessanalytics"===a?t.fillColors="#0D8ECF":"structure"===a?t.fillColors="#B0DE09":"interpersonal"===a&&(t.fillColors="#FCD202"),t.fillAlphas=.5,r.addGraph(t),"businessanalytics"===a?r.write("cases_show_businessanalytics_chart_bar"):"interpersonal"===a?r.write("cases_show_interpersonal_chart_bar"):"structure"===a?r.write("cases_show_structure_chart_bar"):void 0},window.cases_show_chart_radar_draw=function(a){var e,s,r,t,l;return s=void 0,s=new AmCharts.AmRadarChart,"all"===a?s.dataProvider=cases_show_chart_radar_data_all:"combined"===a&&(s.dataProvider=cases_show_chart_radar_data_combined),s.categoryField="criteria",s.fontSize=11,s.marginTop=0,l=new AmCharts.ValueAxis,l.gridType="circles",l.fillAlpha=.02,l.fillColor="#000000",l.axisAlpha=.1,l.gridAlpha=.1,l.fontWeight="bold",l.minimum=0,l.maximum=5,s.addValueAxis(l),t=new AmCharts.Guide,t.angle=270,t.toAngle=390,t.value=3,t.toValue=2,t.fillColor="#0D8ECF",t.fillAlpha=.3,l.addGuide(t),t=new AmCharts.Guide,t.angle=30,t.toAngle=150,t.value=3,t.toValue=2,t.fillColor="#B0DE09",t.fillAlpha=.3,l.addGuide(t),t=new AmCharts.Guide,t.angle=150,t.toAngle=270,t.value=3,t.toValue=2,t.fillColor="#FCD202",t.fillAlpha=.3,l.addGuide(t),r=new AmCharts.AmGraph,r.lineColor="#98cdff",r.fillAlphas=.4,r.bullet="round",r.valueField="score",r.balloonText="[[category]]: [[value]]/5",r.labelPosition="right",s.addGraph(r),e=s.balloon,e.adjustBorderColor=!0,e.color="#000000",e.cornerRadius=5,e.fillColor="#000000",e.fillAlpha=.7,e.color="#FFFFFF",s.write("cases_show_chart_radar")},window.cases_analysis_chart_progress_init=function(a,e,s,r){var t,l,i,n;return i=function(a){var l,i,n,o,c,_,u,d,h;return $(".cases_analysis_loading").fadeOut("slow",function(){return $(".cases_analysis_loading").remove()}),c=void 0,c=new AmCharts.AmSerialChart,c.pathToImages="/assets/amcharts/",c.panEventsEnabled=!0,c.zoomOutButton={backgroundColor:"#000000",backgroundAlpha:.15},c.colors=["#0D8ECF","#B0DE09","#FCD202"],c.dataProvider=a,c.categoryField="date",c.autoMargins=!1,c.marginRight=15,c.marginLeft=25,c.marginBottom=35,c.marginTop=10,c.startDuration=.3,c.startEffect=">",c.sequencedAnimation=!0,i=c.categoryAxis,i.gridAlpha=.07,i.axisColor="#DADADA",i.startOnAxis=!0,i.labelRotation=45,i.parseDates=!0,i.minPeriod="DD",h=new AmCharts.ValueAxis,h.stackType="regular",h.gridAlpha=.07,h.axisAlpha=0,h.maximum=15,h.labelsEnabled=!0,u=new AmCharts.Guide,u.value=r,u.toValue=s,u.fillColor="#000",u.inside=!0,u.fillAlpha=.3,u.lineAlpha=0,h.addGuide(u),u=new AmCharts.Guide,u.value=e,u.lineColor="#CC0000",u.dashLength=4,u.label="average for all users",u.inside=!0,u.lineAlpha=1,h.addGuide(u),c.addValueAxis(h),_=new AmCharts.AmGraph,_.type="line",_.title="Business Analytics",_.valueField="businessanalytics",_.lineAlpha=1,_.fillAlphas=.7,_.bullet="round",t(_),c.addGraph(_),_=new AmCharts.AmGraph,_.type="line",_.title="Structure",_.valueField="structure",_.lineAlpha=1,_.fillAlphas=.7,_.bullet="round",t(_),c.addGraph(_),_=new AmCharts.AmGraph,_.type="line",_.title="Interpersonal",_.valueField="interpersonal",_.lineAlpha=1,_.fillAlphas=.7,_.bullet="round",t(_),c.addGraph(_),_=new AmCharts.AmGraph,_.type="line",_.title="Total Score",_.valueField="totalscore",_.lineAlpha=1,_.fillAlphas=.6,_.bullet="none",_.showBalloon=!1,_.visibleInLegend=!1,_.fillAlphas=[0],_.lineAlpha=0,_.includeInMinMax=!1,c.addGraph(_),d=new AmCharts.AmLegend,d.position="bottom",d.align="center",d.rollOverGraphAlpha="0.15",d.horizontalGap=5,d.switchable=!0,d.valueWidth=25,c.addLegend(d),n=new AmCharts.ChartCursor,n.cursorPosition="mouse",n.pan=!1,n.bulletsEnabled=!1,n.categoryBalloonDateFormat="DD MMM, YYYY",n.zoomable=!1,c.addChartCursor(n),l=c.balloon,l.adjustBorderColor=!0,l.cornerRadius=5,l.showBullet=!1,l.fillColor="#000000",l.fillAlpha=.7,l.color="#FFFFFF",o=new AmCharts.ChartScrollbar,o.graph=_,o.autoGridCount=!0,o.scrollbarHeight=25,o.color="#000000",c.addChartScrollbar(o),c.write("cases_analysis_chart_progress")},n=function(a){var e,s;return s=a.split("-"),e=new Date(Number(s[0]),Number(s[1])-1,Number(s[2]))},t=function(a){return a.addListener("clickGraphItem",function(a){return window.location="/cases/"+a.item.dataContext.id})},$("#cases_analysis_chart_progress").fadeIn("fast"),l=[],$.getJSON("/cases/analysis",function(a){return $.each(a,function(e){var s;return s={id:a[e].id,date:n(a[e].date),interpersonal:a[e].interpersonal,businessanalytics:a[e].businessanalytics,structure:a[e].structure,totalscore:a[e].totalscore},l.push(s)})}).complete(function(){return i(l)})},window.cases_analysis_chart_radar_draw=function(a,e){var s,r,t,l,i,n;return $(".cases_analysis_loading").fadeOut("slow",function(){return $(".cases_analysis_loading").remove()}),r=void 0,r=new AmCharts.AmRadarChart,"all"===a?r.dataProvider=cases_analysis_chart_radar_data_all:"combined"===a&&(r.dataProvider=cases_analysis_chart_radar_data_combined),r.categoryField="criteria",r.startDuration=.3,r.startEffect=">",r.sequencedAnimation=!0,r.color="#000000",r.colors=["#979797","#c7c7c7","#16b1ff"],r.fontSize=11,t=new AmCharts.AmGraph,t.title="All",t.fillAlphas=.2,t.lineAlpha=.5,t.bullet="round",t.valueField="all",t.balloonText="[[category]]: [[value]]/5",r.addGraph(t),t=new AmCharts.AmGraph,t.title="First "+String(e),t.fillAlphas=.2,t.lineAlpha=.5,t.bullet="round",t.valueField="first",t.balloonText="[[category]]: [[value]]/5",r.addGraph(t),t=new AmCharts.AmGraph,t.title="Last "+String(e),t.fillAlphas=.2,t.lineThickness=3,t.bullet="round",t.valueField="last",t.balloonText="[[category]]: [[value]]/5",r.addGraph(t),n=new AmCharts.ValueAxis,n.gridType="circles",n.fillAlpha=.02,n.fillColor="#000000",n.axisAlpha=.1,n.gridAlpha=.1,n.fontWeight="bold",n.minimum=0,n.maximum=5,r.addValueAxis(n),l=new AmCharts.Guide,l.angle=270,l.toAngle=390,l.value=3,l.toValue=2,l.fillColor="#0D8ECF",l.fillAlpha=.1,n.addGuide(l),l=new AmCharts.Guide,l.angle=30,l.toAngle=150,l.value=3,l.toValue=2,l.fillColor="#B0DE09",l.fillAlpha=.1,n.addGuide(l),l=new AmCharts.Guide,l.angle=150,l.toAngle=270,l.value=3,l.toValue=2,l.fillColor="#FCD202",l.fillAlpha=.3,n.addGuide(l),s=r.balloon,s.adjustBorderColor=!0,s.cornerRadius=5,s.showBullet=!1,s.fillColor="#000000",s.fillAlpha=.7,s.color="#FFFFFF",i=new AmCharts.AmLegend,i.position="bottom",i.align="center",i.color="#000000",i.markerType="square",i.rollOverGraphAlpha=0,i.horizontalGap=5,i.valueWidth=5,i.switchable=!0,r.addLegend(i),$("#cases_analysis_chart_radar").fadeIn("fast"),$("#cases_analysis_chart_radar_buttongroup").fadeIn("fast"),r.write("cases_analysis_chart_radar")},window.cases_analysis_chart_country_draw=function(){var a;return a=new AmCharts.AmPieChart,a.dataProvider=cases_analysis_chart_country_data,a.titleField="country",a.valueField="count",a.marginTop=100,a.outlineThickness=0,a.innerRadius="50%",a.pieAlpha=1,a.radius=100,a.labelRadius=10,a.color="#ffffff",a.pullOutRadius=0,a.write("cases_analysis_chart_country"),$("#cases_analysis_chart_country").fadeIn("fast")},window.cases_analysis_chart_university_draw=function(){var a;return a=new AmCharts.AmPieChart,a.dataProvider=cases_analysis_chart_university_data,a.titleField="university",a.valueField="count",a.outlineThickness=0,a.marginTop=100,a.innerRadius="50%",a.pieAlpha=1,a.radius=100,a.labelRadius=10,a.color="#ffffff",a.pullOutRadius=0,a.write("cases_analysis_chart_university"),$("#cases_analysis_chart_university").fadeIn("fast")},-(window.cases_resultstable_bars_draw=function(){var a,e,s,r,t,l,i,n,o;for(l=0,o=[];12>l;)i=$("#cases_resultstable_chart_bar_"+l).data("score"),e=$("#cases_resultstable_chart_bar_"+l).data("category"),a=[{name:l,score:parseFloat(i),category:e}],r=new AmCharts.AmSerialChart,r.autoMarginOffset=0,r.autoMargins=!1,r.marginRight=0,r.marginTop=0,r.marginBottom=0,r.marginLeft=0,r.width=300,r.dataProvider=a,r.categoryField="name",r.rotate=!0,r.depth3D=3,r.angle=10,r.startDuration=1,s=r.categoryAxis,s.gridPosition="start",s.axisColor="#DADADA",s.fillAlpha=0,s.gridAlpha=0,s.labelsEnabled=!1,n=new AmCharts.ValueAxis,n.gridAlpha=0,n.axisAlpha=0,n.minimum=0,n.maximum=5,n.precsion=3,n.labelsEnabled=!1,r.addValueAxis(n),t=new AmCharts.AmGraph,t.valueField="score",t.type="column",t.lineAlpha=0,t.showBalloon=!1,"businessanalytics"===e?t.fillColors="#0D8ECF":"structure"===e?t.fillColors="#B0DE09":"interpersonal"===e&&(t.fillColors="#FCD202"),t.fillAlphas=1,r.addGraph(t),r.write("cases_resultstable_chart_bar_"+l),o.push(l++);return o}),$(document).ready(function(){return window.cases_new_prime(),$("#cases_analysis_section_table .btn").click(function(){var a,e;return a=$(this).data("radio"),e=$(this).data("type"),$("input[name=resultstable_"+e+"]:eq("+a+")").prop("checked",!0),$("#cases_resultstable_"+e+"_container .btn").removeClass("active"),$(this).addClass("active"),$.get("/cases/analysis",$("#cases_resultstable_form").serialize(),null,"script"),!1}),$("#cases_analysis_chart_radar_button_all").click(function(){return $("#cases_analysis_chart_radar").empty(),cases_analysis_chart_radar_draw("all",cases_analysis_chart_case_count),$("#cases_analysis_chart_radar_button_all").addClass("active"),$("#cases_analysis_chart_radar_button_combined").removeClass("active")}),$("#cases_analysis_chart_radar_button_combined").click(function(){return $("#cases_analysis_chart_radar").empty(),cases_analysis_chart_radar_draw("combined",cases_analysis_chart_case_count),$("#cases_analysis_chart_radar_button_all").removeClass("active"),$("#cases_analysis_chart_radar_button_combined").addClass("active")}),$("#cases_analysis_chart_bar_button_all").click(function(){return $("#cases_analysis_chart_bar").empty(),cases_analysis_chart_bar_draw("all",cases_analysis_chart_case_count),$("#cases_analysis_chart_bar_button_all").addClass("active"),$("#cases_analysis_chart_bar_button_combined").removeClass("active")}),$("#cases_analysis_chart_bar_button_combined").click(function(){return $("#cases_analysis_chart_bar").empty(),cases_analysis_chart_bar_draw("combined",cases_analysis_chart_case_count),$("#cases_analysis_chart_bar_button_all").removeClass("active"),$("#cases_analysis_chart_bar_button_combined").addClass("active")}),$("#cases_show_charts_view_table .btn").click(function(){var a,e,s;return e=$(this).data("radio"),s=$(this).data("type"),$("input[name=resultstable_"+s+"]:eq("+e+")").prop("checked",!0),$("#cases_resultstable_"+s+"_container .btn").removeClass("active"),$(this).addClass("active"),a=$("#cases_resultstable_caseid").val(),$.get("/cases/"+a,$("#cases_resultstable_form").serialize(),null,"script"),!1}),$("#cases_show_charts_view_buttongroup .btn").click(function(){var a;return a=$(this).data("view"),$(".cases_show_charts_view").addClass("hidden"),$("#cases_show_charts_view_"+a).removeClass("hidden"),"radar"===a&&window.cases_show_chart_radar_draw("all"),$("#cases_show_charts_view_buttongroup .btn").removeClass("active"),$(this).addClass("active")}),$("#cases_show_subnav_select").change(function(){return window.location="/cases/"+$(this).val()})})}.call(this);