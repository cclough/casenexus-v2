/*!
* bootstrap-lightbox.js v0.6.1 
* Copyright 2013 Jason Butz
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="lightbox"]',"click.dismiss.lightbox",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".lightbox-body").load(this.options.remote)};e.prototype=t.extend({},t.fn.modal.Constructor.prototype),e.prototype.constructor=e,e.prototype.enforceFocus=function(){var e=this;t(document).on("focusin.lightbox",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},e.prototype.show=function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.preloadSize(function(){e.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")})}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.lightbox"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},e.prototype.escape=function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.lightbox",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.lightbox")},e.prototype.preloadSize=function(e){var i=t.Callbacks();e&&i.add(e);var n,o,h,s,a,d,r,l,c,f,g=this;n=t(window).height(),o=t(window).width(),h=parseInt(g.$element.find(".lightbox-content").css("padding-top"),10),s=parseInt(g.$element.find(".lightbox-content").css("padding-bottom"),10),a=parseInt(g.$element.find(".lightbox-content").css("padding-left"),10),d=parseInt(g.$element.find(".lightbox-content").css("padding-right"),10),r=g.$element.find(".lightbox-content").find("img:first"),l=new Image,l.onload=function(){l.width+a+d>=o&&(c=l.width,f=l.height,l.width=o-a-d,l.height=f/c*l.width),l.height+h+s>=n&&(c=l.width,f=l.height,l.height=n-h-s,l.width=c/f*l.height),g.$element.css({position:"fixed",width:l.width+a+d,height:l.height+h+s,top:n/2-(l.height+h+s)/2,left:"50%","margin-left":-1*(l.width+a+d)/2}),g.$element.find(".lightbox-content").css({width:l.width,height:l.height}),i.fire()},l.src=r.attr("src")};var i=t.fn.lightbox;t.fn.lightbox=function(i){return this.each(function(){var n=t(this),o=n.data("lightbox"),h=t.extend({},t.fn.lightbox.defaults,n.data(),"object"==typeof i&&i);o||n.data("lightbox",o=new e(this,h)),"string"==typeof i?o[i]():h.show&&o.show()})},t.fn.lightbox.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.lightbox.Constructor=e,t.fn.lightbox.noConflict=function(){return t.fn.lightbox=i,this},t(document).on("click.lightbox.data-api",'[data-toggle*="lightbox"]',function(e){var i=t(this),n=i.attr("href"),o=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),h=o.data("lightbox")?"toggle":t.extend({remote:!/#/.test(n)&&n},o.data(),i.data());e.preventDefault(),o.lightbox(h).one("hide",function(){i.focus()})})}(window.jQuery);