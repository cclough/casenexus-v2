!function(t){"use strict";function e(t,n,i,s,l,c,d,a){var r,o,h,f,g,p=function(t){return(a?d:"")+t+(a?"":d)};return a?(r=0===s?"":i.slice(-s),o=i.slice(-l)):(r=i.slice(0,s),o=i.slice(0,l)),n<c.html(d)[t]()?0:(f=c.html(p(o))[t](),g=c.html(p(r))[t](),g>f?l:(h=parseInt((s+l)/2,10),r=a?i.slice(-h):i.slice(0,h),c.html(p(r)),c[t]()===n?h:(c[t]()>n?l=h-1:s=h+1,e(t,n,i,s,l,c,d,a))))}t.fn.truncate=function(n){n&&n.center&&!n.side&&(n.side="center",delete n.center),n&&!/^(left|right|center)$/.test(n.side)&&delete n.side;var i={width:"auto",token:"&hellip;",side:"right",addclass:!1,addtitle:!1,multiline:!1};return n=t.extend(i,n),this.each(function(){var i,s,l,c=t(this),d={fontFamily:c.css("fontFamily"),fontSize:c.css("fontSize"),fontStyle:c.css("fontStyle"),fontWeight:c.css("fontWeight"),"font-variant":c.css("font-variant"),"text-indent":c.css("text-indent"),"text-transform":c.css("text-transform"),"letter-spacing":c.css("letter-spacing"),"word-spacing":c.css("word-spacing"),display:"none"},a=c.text(),r=t("<span/>").css(d).html(a).appendTo("body"),o=r.width(),h=parseInt(n.width,10)||c.width(),f="width";if(n.multiline?(r.width(c.width()),f="height",s=r.height(),l=c.height()+1):(s=o,l=h),s>l){var g,p;r.text(""),"left"===n.side?(g=e(f,l,a,0,a.length,r,n.token,!0),i=[n.token,a.slice(-1*g)].join("")):"center"===n.side?(l=parseInt(l/2,10)-1,g=e(f,l,a,0,a.length,r,n.token,!1),p=e(f,l,a,0,a.length,r,"",!0),i=[a.slice(0,g),n.token,a.slice(-1*p)].join("")):"right"===n.side&&(g=e(f,l,a,0,a.length,r,n.token,!1),i=[a.slice(0,g),n.token].join("")),n.addclass&&c.addClass(n.addclass),n.addtitle&&c.attr("title",a),c.empty().append(i)}r.remove()})}}(jQuery);